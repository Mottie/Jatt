/*! Jatt (https://github.com/Mottie/Jatt) v2.9.0 */
;(function(b,z,w){b.jatt=function(A){b.jatt.version="2.9.0";var g,u,v=[],x=b("body"),e=b(w),m=b(z),a=b.extend({},b.jatt.defaultOptions,A);b.jatt.ttrelocate=function(g,n){var f=b("#"+n),c=f.outerWidth(),h=f.outerHeight(),d=f.data("options")||a,e={e:[d.xOffset,-h/2,c+d.xOffset,h/2],se:[d.xOffset,d.yOffset,c+d.xOffset,h+d.yOffset],s:[-c/2,d.yOffset,c/2,h+d.yOffset],sw:[-c-d.xOffset,d.yOffset,-d.xOffset,h+d.yOffset],w:[-c-d.xOffset,-h/2,-d.xOffset,h/2],nw:[-c-d.xOffset,-h-d.yOffset,-d.xOffset,-d.yOffset],
n:[-c/2,-h-d.yOffset,c/2,-d.yOffset],ne:[d.xOffset,-h-d.yOffset,c+d.xOffset,-d.yOffset]}[d.direction],q=m.scrollTop(),t=m.scrollLeft(),k=b(g.target),p=g.pageX||k.position().left+k.width()/2,l=g.pageY||k.position().top+k.height()/2;d.followMouse||(p=k.outerWidth(),l=k.outerHeight(),l={e:[p,l/2],se:[p,l],s:[p/2,l],sw:[0,l],w:[0,l/2],nw:[0,0],n:[p/2,0],ne:[p,0]},p=k.offset().left+l[d.direction][0],l=k.offset().top+l[d.direction][1]);var k=p+e[0],r=l+e[1];p+e[2]>t+m.width()-d.xOffset&&(k=m.width()-c-
d.xOffset);l+e[3]>q+m.height()-d.yOffset&&(r=l-h-d.yOffset);k<t+d.xOffset&&(k=t+d.xOffset);r<q+d.yOffset&&(r=l+d.yOffset);p>k&&p<k+c&&l>r&&l<r+h&&(r+=r-h/2-d.yOffset<q+d.yOffset?h/2+d.yOffset:-h/2-d.yOffset);f.css({left:k+"px",top:r+"px"})};b.jatt.getMeta=function(e){g=b.extend({},a);var n,f=[],c=e.attr(a.metadata)||"",c=c.match(/(\{.*\})/g)?c.match(/(\{.*\})/g)[0]:e.attr(a.metadata)||"",c=c.match("width|background|color|border|direction|followMouse|content|speed|local|xOffset|yOffset|zIndex")?c:
e.attr("data-jatt")||"";""!==c&&(c=c.replace(/(\{|\'|\"|\})/g,""),c.match("direction|followMouse|content|speed|local|xOffset|yOffset|zIndex")&&(b.each(c.split(";"),function(a,d){n=d.split(":");if(n[0].match("direction|followMouse|content|speed|local|xOffset|yOffset|zIndex")){var c=b.trim(n[0]),e=b.trim(n[1]);g[c]="true"==e||"false"==e?"true"==e?!0:!1:isNaN(e)?e:parseFloat(e)}else f.push(d)}),c=f.join(";")));return[g,c]};b.jatt.removeTooltips=function(){var g=b("#"+a.previewId+", #"+a.tooltipId);g.length&&
(g.remove(),e.trigger(a.events.hidden,b.data(e,"jatt")));for(;0<b("#"+a.previewId+", #"+a.tooltipId).length;)b("#"+a.previewId+", #"+a.tooltipId).remove()};b.jatt.preloadContent=function(e){if(0!==e.length){var g,f,c,h,d=[],y=b(a.tooltip+a.preloadContent),q=e.length;for(h=0;h<q;h++)g=w.createElement("img"),g.src=e[h],v.push(g);y.each(function(e){c=b(this).attr("href")||"";"A"!==this.tagName||""===c||c.match(/^#/)||(f=b("<div "+a.extradata+'="'+e+'" />'),d.push(f),f.load(c,function(){y.eq(f.attr(a.extradata)).data("tooltip",
f.html())}))})}};(function(){var m=[];b.each(a.events,function(g,f){var c=f.replace("jatt-","");if(b.isFunction(a[c]))e.on(f,a[c])});b.data(e,"jatt","");e.on((a.activate+" ").split(" ").join(".jatt "),a.tooltip,function(n){var f,c,h,d,m,q,t,k=b(this);f="false"===a.metadata.toString()?[a,""]:b.jatt.getMeta(k);this!==b.data(e,"jatt")[0]&&b.jatt.removeTooltips();e.trigger(a.events.init,k);g=f[0];c=""===k.attr(g.content)?k.data("tooltip")||"":k.attr(g.content)||"";d=k.attr(a.extradata)||"";m=k.attr("href")||
"";k.data("tooltip",c);k.attr("title","");f='<div id="'+a.tooltipId+'" style="position:absolute;z-index:'+g.zIndex+";"+f[1]+'"><span class="body"></span><span class="close" style="display:none;">x</span></div>';g.local?k.before(f):x.append(f);h=b("#"+a.tooltipId);""===c&&(""!==d?c=b(d).html()||a.notFound:""!==m&&"#"!==m&&(c=a.loading,q=b("<div />"),q.load(m,function(){t=q.html();v=a.cacheData?t:"";h.hide().find(".body").html(t);k.data("tooltip",v);b.jatt.ttrelocate(n,a.tooltipId);h.fadeIn(g.speed)})));
h.data("options",g).find(".body").html(c);b.jatt.ttrelocate(n,a.tooltipId);h.find(".close").toggle(k.is(a.sticky)).click(function(){b.jatt.removeTooltips()});b.data(e,"jatt",k);e.trigger(a.events.b4Reveal,k);h.fadeIn(g.speed);e.trigger(a.events.reveal,k)}).on((a.deactivate+" ").split(" ").join(".jatt "),a.tooltip,function(){b(this).is(a.sticky)||b.jatt.removeTooltips()}).on("mousemove.jatt",a.tooltip,function(e){b("#"+a.tooltipId).length&&g.followMouse&&b.jatt.ttrelocate(e,a.tooltipId)});u=function(n,
f,c){e.trigger(a.events.init,f);var h,d="false"==a.metadata.toString()?[a,""]:b.jatt.getMeta(f);g=d[0];h=""===f.attr(g.content)?f.data("tooltip")||"":f.attr(g.content)||"";f.data("tooltip",h);"title"===g.content&&f.attr(g.content,"");c='<div id="'+a.previewId+'" style="position:absolute;z-index:'+g.zIndex+";"+d[1]+'"><span class="body"><img src="'+c+(""!==h?"<br/>"+h:"")+'</span><span class="close" style="display:none;">x</span></div>';g.local?f.before(c):x.append(c);c=b("#"+a.previewId);b.data(e,
"jatt",f);e.trigger(a.events.b4Reveal,f);c.hide().data("options",g).fadeIn(g.speed);b.jatt.ttrelocate(n,a.previewId);c.find(".close").toggle(f.is(a.sticky)).click(function(){b.jatt.removeTooltips()});e.trigger(a.events.reveal,f)};e.on((a.activate+" ").split(" ").join(".jatt "),a.preview,function(e){var f=b(this);b.jatt.removeTooltips();u(e,f,f.attr("href")+'" alt="'+a.imagePreview+'" />')});b(a.tooltip).filter(a.preloadContent).each(function(){m.push(b(this).attr("href"))});e.on((a.activate+" ").split(" ").join(".jatt "),
a.screenshot,function(e){var f=b(this),c=("#"===f.attr(a.extradata)?a.websitePreview+f.attr("href"):f.attr(a.extradata))+'" alt="'+a.siteScreenshot+f.attr("href")+'" />';b.jatt.removeTooltips();u(e,f,c)}).on((a.deactivate+" ").split(" ").join(".jatt "),a.preview+","+a.screenshot,function(){b(this).is(a.sticky)||b.jatt.removeTooltips()}).on("mousemove.jatt",a.preview+","+a.screenshot,function(e){b("#"+a.previewId).length&&g.followMouse&&b.jatt.ttrelocate(e,a.previewId)});b(a.screenshot+","+a.preview).filter(a.preloadContent).each(function(){var e=
b(this);m.push("#"===e.attr(a.extradata)?a.websitePreview+e.attr("href"):e.attr(a.extradata))});b.jatt.preloadContent(m)})()};b.jatt.defaultOptions={direction:"n",followMouse:!0,content:"title",speed:300,local:!1,xOffset:20,yOffset:20,zIndex:1E3,live:!1,metadata:"class",extradata:"rel",activate:"mouseenter focusin",deactivate:"mouseleave focusout",cacheData:!0,websitePreview:"https://api.thumbalizr.com/?width=250&url=",loading:"Loading...",notFound:"No tooltip found",imagePreview:"Image preview",
siteScreenshot:"URL preview: ",tooltip:".tooltip",screenshot:"a.screenshot",preview:"a.preview",preloadContent:".preload",sticky:".sticky",events:{init:"jatt-initialized",b4Reveal:"jatt-beforeReveal",reveal:"jatt-reveal",hidden:"jatt-hidden"},tooltipId:"tooltip",previewId:"preview"}})(jQuery,this,document);